<!-- <footer class="main-footer">
    <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
        <b>Version</b> 3.2.0
    </div>
</footer> -->
<aside class="control-sidebar control-sidebar-dark">
    <div class="control-sidebar-content">
        <div class="col-12">
            <% 
            if(typeof data !== 'undefined'){if(data.machinesOP){ %>
                <h5 class="mt-2">Machines:</h5>
                <div class="machine-list">
            <% data.machinesOP.forEach(function(machine) { %>
                <div class="callout callout-secondary mb-1 p-2" data-id="<%= machine.id %>">
                    <div class="row">
                        <div class="col-12 justify-content-between">
                            <p class="text-dark"><%= machine.mc_name %> <small><small class="float-left" id="status_<%= machine.id %>"></small></small></p>
                        </div>
                    </div>
                </div>
            <% }) %>
        
                </div>
            </div>
            <div class="col-12">
                <a class="nav-link" data-widget="control-sidebar" data-controlsidebar-slide="true" href="#" role="button">
                    <i class="fas fa-arrow-right"></i> Hide List
                </a>
            </div>
            <% }} %>
    </div>
</aside>
</div>
<script>
    $.widget.bridge('uibutton', $.ui.button)
    function switchsidebar(){
        $.ajax({
            url: '/users/sidemenu'
        });
    }

        // Function to dynamically set active class on nav items
    function setActiveNavLink() {
        const currentUrl = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-item > .nav-link');

        navLinks.forEach(link => {
            const linkUrl = link.getAttribute('href');
            if (linkUrl && linkUrl === currentUrl) {
                // Set the current link as active
                link.classList.add('active');

                // Traverse up to set parent classes
                let parent = link.closest('.nav-item');
                while (parent) {
                    parent.classList.add('menu-is-opening', 'menu-open');
                    parent = parent.parentElement.closest('.nav-item');
                }
            }
        });
    }

    // Run the function to set the active nav link on page load
    document.addEventListener('DOMContentLoaded', setActiveNavLink);
</script>

</body>
</html>
